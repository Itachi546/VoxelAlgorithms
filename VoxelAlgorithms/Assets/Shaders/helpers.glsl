struct Vertex {
   float p[3];
   float n[3];
};

const int CornerAFromEdge[12] = int[12] (0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3);
const int CornerBFromEdge[12] = int[12] (1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7);

const int VOXEL_COUNT = 256;

// Given a edge 0..11, it returns the parent cell where the vertex is generated 
const ivec4 EdgeToCellVertex[12] = ivec4[12](
    ivec4(0, 0,	0, 0), // 0,
    ivec4(1, 0, 0, 1), // X
    ivec4(0, 0, 1, 0), // Z
    ivec4(0, 0, 0, 1), // 0
    ivec4(0, 1, 0, 0),  // Y
    ivec4(1, 1, 0, 1),  // XY
    ivec4(0, 1, 1, 0), // YZ
    ivec4(0, 1, 0, 1), // Y
    ivec4(0, 0, 0, 2), // 0
    ivec4(1, 0, 0, 2), // X
    ivec4(1, 0, 1, 2), // XZ
	ivec4(0, 0, 1, 2)  // Z
);

int getSplatIndex(ivec3 uv) {
  return uv.z * (VOXEL_COUNT + 1) * (VOXEL_COUNT + 1) + uv.y * (VOXEL_COUNT + 1) + uv.x;
}

const int AO_DIR_COUNT = 32;
const int AO_STEPS = 16;

vec3 AO_DIRS[32] = vec3[32](
      vec3(0.286582, 0.257763, -0.922729),
	  vec3(-0.171812, -0.888079,0.426375),
	  vec3(0.440764, -0.502089,	-0.744066),
	  vec3(-0.841007, -0.428818, -0.329882),
	  vec3(-0.380213, -0.588038, -0.713898),
	  vec3(-0.055393 -0.207160 -0.976738),
	  vec3(-0.901510,	-0.077811, 0.425706),
	  vec3(-0.974593,  0.123830, -0.186643),
	  vec3(0.208042, -0.524280,	 0.825741),
	  vec3(0.258429, -0.898570,	-0.354663),
	  vec3(-0.262118, 0.574475,	-0.775418),
	  vec3(0.735212,  0.551820,	 0.393646),
	  vec3(0.828700, -0.523923,	-0.196877),
	  vec3(0.788742,	 0.005727, -0.614698),
	  vec3(-0.696885,  0.649338, -0.304486),
	  vec3(-0.625313,	 0.082413, -0.776010),
	  vec3(0.358696,	 0.928723,	 0.093864),
	  vec3(0.188264,	 0.628978,	 0.754283),
	  vec3(-0.495193,  0.294596,	 0.817311),
	  vec3(0.818889,	 0.508670, - 0.265851),
	  vec3(0.027189,	 0.057757,	 0.997960),
	  vec3(-0.188421,	 0.961802, - 0.198582),
	  vec3(0.995439,	 0.019982,	 0.093282),
	  vec3(-0.315254, -	0.925345, -	0.210596),
	  vec3(0.411992, - 0.877706,	 0.244733),
	  vec3(0.625857,	 0.080059,	 0.775818),
	  vec3(-0.243839,  0.866185,	 0.436194),
	  vec3(-0.725464, -	0.643645,  0.243768),
	  vec3(0.766785, - 0.430702,	 0.475959),
	  vec3(-0.446376, -	0.391664,  0.804580),
	  vec3(-0.761557,	 0.562508,	 0.321895),
	  vec3(0.344460,	 0.753223, -0.560359)
);
